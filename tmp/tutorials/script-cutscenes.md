title: Cutscenes - Kamera Modus (camera modus)
author: Darth Arth (Artur L.)
date: 2004-01-01
modified: 2015-04-14
category: scripts
type: tutorials/darth-arth
tags: Scripting, Cutscenes, auto-generated
slug: script-cutscenes

**>>
Mapping Academy - Tutorials <<**

 

(c)
2003 [www.darth-arth.net](http://www.darth-arth.net)

----

Der Kamera Modus

**[u]VORAUSSETZUNG[/u][u]EN[/u]:**

>>
Installation JK2 Editing Tools I ( [Tutorial](../../radiant/jk2_etools1.htm)
)<<

>>
Installation JK2 Editing Tools 2 ( [Tutorial](../../radiant/jk2_etools2.htm)
)<<

>>
Installation GTK - Radiant ( [Tutorial](../../radiant/gtk_radiant.htm)
)<<

 

----

Für diese Lehreinheit (Tutorial)
benötigen wir einen Einfachen Raum mit einem "info_player_start".
Wenn du dabei Hilfe brauchst, schau hier: >> [mein
erster Raum](../../mapping/firstroom/firstroom.htm) <<

Speichere den Raum unter dem
Namen "camscript1.map"

Zuerst müssen wir in dieser Map
unsere Kamera-Position und deren Winkel festlegen.

Für eine Camera-Position braucht
man einen "ref_tag"
(rechte Maustaste "ref"
> "ref_tag"). 

![image]({static}ref_tag.jpg)

Damit wird der Punkt gesetzt, an
dem sich die Kamera befinden soll. Man muss natürlich mehrere Punkte setzen,
wenn man komplexe Kamera-Fahrten oder dynamische Szenen darstellen möchte. Für
diesen Test benötigen wir aber nur eine Kamera.

Die Richtung, in die eine Kamera schauen soll, wird mit "info_notnull"
festlegt (rechte Maustaste "info"
> "info_notnull"). 

![image]({static}info_notnull.jpg)

"info_notnull"-Entity
wird meistens nur für Ziel-, oder Positionsangaben benötigt.

Jetzt muss man die beiden
Entities noch miteinander verbinden. 

![image]({static}ent_connect_2d.jpg)![image]({static}ent_connect.jpg)

Es gibt 2 Möglichkeiten es zu
tun:

1. Der einfache Weg: Markiere
zuerst den "ref_tag"
und markiere dann das "info_notnull".
Klicke jetzt auf **<STRG+K>
**und die 2 Entities werden
Verbunden. Man kann im Editor sogar eine Verbindungs-Linie
mit einem Pfeil in Verbindungsrichtung sehen. Nachteil dieser schnellen Methode
ist, dass die Namen für den "target"
(Ziel) vom Editor automatisch erstellt werden. Wenn man eine Cutscene in einer
Test-Map erstellt und die Sachen später in die richtige Map kopiert, kann so passieren,
dass einige "targetnamen"
mehrfach vorhanden sind. Das kann zu Problemen führen und die Ursache ist oft
schwer zu finden. Deswegen empfehle ich Methode 2:

2. Der Profi-Weg: Um 2 Entities
zu verbinden, benötigt man einerseits den Zielnamen ("targetname")
und andererseits die Zielangabe ("target").
Wenn also Entity1
auf Entity2
zeigen soll, muss man bei Entity1
den KEY (Schlüssel) "target"
und bei Entity2
den KEY "targetname"
festlegen. Der Wert (VALUE) muss bei beiden identisch sein.

Für unsere Kamera definieren wir
als Ziel z.B. "cam1_r"
(Kamera-1 Richtung). Um das zu tun, markiere den "ref_tag"
drücke die **"N"**-Taste
und trage dort ein:

KEY        
target

VALUE    
cam1_r

 

![image]({static}key_target.jpg)

 

drücke
dann **<ENTER>**. 

Jetzt
muss man dem "info_notnull"
seinen Zielnamen ("targetname")
geben. Markiere das "info_notnull",
drücke **"N"**
und gebe ein:

 

KEY        
targetname

VALUE    
cam1_r

 

![image]({static}key_targetname.jpg)

drücke dann **<ENTER>**. 

Damit haben wir festgelegt, dass
unser Info_notnull
den Namen "cam1_r"
trägt und unsere Kamera (ref_tag)
in seine Richtung zeigt. 

Um unsere Kamera im Script
ansprechen können, benötigt diese auch einen Namen. Wir geben ihr den Namen
"cam1".
Markiere unseren "ref_tag",
drücke **"N"**
und gebe ein:

KEY        
targetname

VALUE    
cam1

 

![image]({static}key_targetname2.jpg)

Nach dem wir unsere Kamera und
ihre Richtung festgelegt haben, können wir unsere Test-Map kompilieren. "FastVis
(nolight)" ist für
Testzwecke ausreichend und spart Zeit :D

Jetzt schreiben wir ein einfaches
Script um unsere Kamera zu Testen. Normalerweise, benutzt man für die
Icarus-Scripte den "BehavEd"-Editor, nur werden leider gerade die
Kamera-Befehle dort nicht richtig unterstützt :(

Wir schreiben unser erstes
Kamera Script deswegen mit dem "NOTEPAD" :D

Öffne das Notepad und füge dort
diesen Text ein:

//Generated by BehavEd

 rem ( "mein erstes Kamera Script" );

camera ( /*@CAMERA_COMMANDS*/ ENABLE );

 camera ( /*@CAMERA_COMMANDS*/ MOVE, $tag( "cam1", ORIGIN)$, 0 );

 camera ( /*@CAMERA_COMMANDS*/ PAN, $tag( "cam1", ANGLES)$, < 0.000 0.000 0.000 >, 0 );

 camera ( /*@CAMERA_COMMANDS*/ ZOOM, 80.000, 0 );

 wait ( 5000.000 );

camera ( /*@CAMERA_COMMANDS*/ DISABLE );

Erklärung der Befehle:

<table border="1" width="100%">
 <tr>
  <td style="background-color: #000000" width="24%">
   <font color="#FFFFFF" face="Arial" size="2">
    Befehl
   </font>
  </td>
  <td style="background-color: #000000" width="76%">
   <font color="#FFFFFF" face="Arial" size="2">
    Erklärung
   </font>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    rem
   </font>
  </td>
  <td width="76%">
   <font color="#C0C0C0" face="Arial" size="2">
    Kommentar Zeile
   </font>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    camera ENABLE
   </font>
  </td>
  <td width="76%">
   <font color="#C0C0C0" face="Arial" size="2">
    schaltet den
      Kamera-Modus ein
   </font>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    camera MOVE
   </font>
  </td>
  <td width="76%">
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     bewegt
      die Camera an eine mit "ref_tag" festgelegte Position.
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     Der
      erste Parameter ist die Position
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     der
      zweite: die Zeit, welche die Kamera braucht um ihre Position zu erreichen
      (in Millisekunden, 1000= 1 Sekunde)
    </font>
   </p>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    camera PAN
   </font>
  </td>
  <td width="76%">
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     setzt
      den Kamera-Winkel in eine mit "ref_tag" und "info_not_null"
      festgelegte Richtung.
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     Der
      erste Parameter ist der Winkel
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     der
      zweite:
    </font>
    <font color="#FF0000" face="Arial" size="2">
     ?
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     der
      dritte: die Zeit, welche die Kamera braucht um ihren Winkel zu erreichen
      (in Millisekunden, 1000 = 1 Sekunde)
    </font>
   </p>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    camera ZOOM
   </font>
  </td>
  <td width="76%">
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     Legt
      den Zoom-Wert fest.
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     Der
      erste Parameter ist der Focus. 80 = Standard, Min. = 10 (sehr nah am
      Objekt), Max. = 120 (weit weg vom Objekt)
    </font>
   </p>
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     der
      zweite Parameter: die Zeit, welche die Kamera braucht um den ZOOM zu
      erreichen (in Millisekunden 1000= 1 Sekunde)
    </font>
   </p>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    WAIT
   </font>
  </td>
  <td width="76%">
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     das
      Script wartet eine angegebene Anzahl von Millisekunden (1000 = 1 Sekunde)
    </font>
   </p>
  </td>
 </tr>
 <tr>
  <td width="24%">
   <font color="#C0C0C0" face="Arial" size="2">
    camera DISABLE
   </font>
  </td>
  <td width="76%">
   <p style="word-spacing: 0; line-height: 100%; margin-top: 0; margin-bottom: 0">
    <font color="#C0C0C0" face="Arial" size="2">
     schaltet
      den Kamera-Modus wieder aus
    </font>
   </p>
  </td>
 </tr>
</table>

Speichere jetzt dieses Script in
deinen base/scripts Ordner
unter dem Namen "camscript1"

damit
wir das Script ausprobieren können, muss es zuerst kompiliert werden. 

 

Starte
jetzt den Behaved-Editor, klicke auf **<OPEN>**
und lade unser Script "camscript.txt". 

Klicke
dann auf  **<Compile!>**. 

 

Wenn
du beim Kompilieren eine Fehlermeldung bekommst oder die Kompilierung nicht
funktioniert, ist dein Behaved-Editor
wahrscheinlich noch nicht richtig eingerichtet. In diesem Fall schau hier: 
>> [BehavEd
Konfiguration](../../behaved/behaved.htm) <<

Wenn das Script richtig
kompiliert wurde, hast du in deinem base/scripts
Ordner jetzt eine neue Datei mit dem Namen "camscript1.ibi"

Jetzt können wir unser erstes
Kamera Script ausprobieren.

1. Starte Jedi Knight2 im
Single-Player Modus

2. Öffne die Console und gebe
ein "map camscript1"

3. Nach dem die Map geladen
wurde, öffne die Console und tippe ein:

HELPUSOBI
1

RUNSCRIPT
camscript1

 

Wenn
alles richtig gemacht wurde, haben wir gerade 5 Sekunden im Kamera-Modus erlebt
:D 

 

Jetzt
sind wir  für unsere >> [erste
Kamera-Fahrt](../cam2/camera2.htm) <<  bereit.

 

----

 

[u][DOWNLOAD
DER TUTORIAL MAP](../../downloads/camscript1.zip)[/u]

(.map
- Datei und Script-Source enthalten)

 

----

**TIP:**
Wenn JK2 im Camera Modus läuft, funktioniert die <ESC>-Taste nicht. Falls
dein Script aus irgendeinem Grund im Kamera-Modus hängen bleibt, kommst du
somit nicht ins JK2-Menü. Um JK2 zu beenden , öffne die Console (das
funktioniert komischerweise immer) und tippe ein "QUIT".

----

Alle
  Bilder, Texte, Grafiken, wenn nicht anders gekennzeichnet: 

©
  2000 - 2003 (Artur L.) [www.darth-arth.net](http://www.darth-arth.net)

Nur
  zur privaten Nutzung. Kopieren nicht gestattet. Darth-Arth.Net ist ausdrücklich
  nicht für den Inhalt externer Seiten verantwortlich. Es gelten die
  angegebenen Nutzungsbedingungen.

